var DensityRankChart=function(x){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}x.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})},x.selection.prototype.moveToBack=function(){return this.each(function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)})},x.selection.prototype.appendSelect=function(t,e){var r=e?this.select("".concat(t,".").concat(e.split(" ").join("."))):this.select(t);return 0===r.size()?e?this.append(t).classed(e,!0):this.append(t):r};var O=function(t){return"number"==typeof t&&t==t};var i=function(t){return O(t)&&t%1==0};var u=function(t){return null!=t&&"function"!=typeof t&&i(t.length)&&0<=t.length&&t.length<=4294967295};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var e=require("validate.io-integer-primitive"),r=require("const-max-uint32");module.exports=function(t){return null!==t&&"object"===v(t)&&e(t.length)&&0<=t.length&&t.length<=r&&"number"==typeof t.BYTES_PER_ELEMENT&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength};var f=Object.freeze({});module.exports=function(t){return null!==t&&"object"===v(t)&&"object"===v(t.data)&&"object"===v(t.shape)&&"number"==typeof t.offset&&"object"===v(t.strides)&&"string"==typeof t.dtype&&"number"==typeof t.length};var p=Object.freeze({}),n={int8:Int8Array,uint8:Uint8Array,uint8_clamped:Uint8ClampedArray,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,generic:Array};var l=function(t){return n[t]||null};var _=function(t){return"string"==typeof t};var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};var a=function(t){return("number"==typeof t||"[object Number]"===Object.prototype.toString.call(t))&&t.valueOf()==t.valueOf()};var o=function(t){return a(t)&&t%1==0};var s=function(t){return o(t)&&0<=t};var m=function(t){var e;if(!c(t))return!1;if(!(e=t.length))return!1;for(var r=0;r<e;r++)if(!s(t[r]))return!1;return!0};var h=function(t){return"number"==typeof t&&t!=t};var d=function(t,e){var r,n;if(!c(t))throw new TypeError("contains()::invalid input argument. First argument must be an array. Value: `"+t+"`.");if(r=t.length,h(e)){for(n=0;n<r;n++)if(h(t[n]))return!0;return!1}for(n=0;n<r;n++)if(t[n]===e)return!0;return!1},y=Object.prototype.toString;module.exports=function(t){var e,r,n,i;return null===t?"null":"object"===(e=v(t))?(r=t,"Object"===(i=y.call(r).slice(8,-1))&&r.constructor?(n=r.constructor).name?n.name:/^\s*function\s*([^\(]*)/im.exec(n.toString())[1]:i):e};var g=Object.freeze({}),b={Int8Array:"int8",Uint8Array:"uint8",Uint8ClampedArray:"uint8_clamped",Int16Array:"int16",Uint16Array:"uint16",Int32Array:"int32",Uint32Array:"uint32",Float32Array:"float32",Float64Array:"float64",Array:"generic"};var w=function(t){return b[t]||null},j={int8:Int8Array,uint8:Uint8Array,uint8_clamped:Uint8ClampedArray,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,generic:Array};var A=function(t){return j[t]||null};var E=function(t,e){var r,n,i,a;if(!u(t))throw new TypeError("invalid input argument. First argument must be an array-like object. Value: `"+t+"`.");if(null===(r=A("string"==typeof e?e:w(g(e)))))throw new Error("invalid input argument. Unrecognized/unsupported type to which to cast. Value: `"+e+"`.");if(n=t.length,"generic"===e&&64e3<n){for(i=new r(64e3),a=0;a<64e3;a++)i[a]=t[a];for(a=64e3;a<n;a++)i.push(t[a])}else for(i=new r(n),a=0;a<n;a++)i[a]=t[a];return i},T=require("type-name"),S=require("compute-array-dtype");module.exports=function(t){var e;if(null===t)return"null";switch(e=v(t)){case"undefined":case"boolean":case"number":case"string":case"function":case"symbol":return e}return e=T(t),S(e)||("Buffer"===e||"ArrayBuffer"===e?"binary":"generic")};var q=Object.freeze({});var P=function(t){return("number"==typeof t||"[object Number]"===Object.prototype.toString.call(t))&&t.valueOf()!=t.valueOf()};var I=function(t,e,r){if(!s(t)||!s(e))throw new TypeError("invalid input argument. Row and column indices must be nonnegative integers. Values: `["+t+","+e+"]`.");if(!O(r)&&!P(r))throw new TypeError("invalid input argument. An input value must be a number primitive. Value: `"+r+"`.");return 0<=(t=this.offset+t*this.strides[0]+e*this.strides[1])&&(this.data[t]=r),this};var z=function(t,e){var r,n;if(!i(t))throw new TypeError("invalid input argument. An index must be an integer. Value: `"+t+"`.");if(!O(e)&&!P(e))throw new TypeError("invalid input argument. An input value must be a number primitive. Value: `"+e+"`.");return t<0&&(t+=this.length)<0||(r=t-(n=t%this.strides[0]),this.strides[0]<0&&(r=-r),this.data[this.offset+r+n*this.strides[1]]=e),this};var M=function(t){return"function"==typeof t};var V=function(t,e,r){var n,i,a,o,s=t.strides[0],u=t.strides[1],f=e.length,p=t.offset;for(n=s<0?-1:1,o=0;o<f;o++)a=e[o]%s,i=n*(e[o]-a),t.data[p+i+a*u]=r};var F=function(t,e,r,n){var i,a,o,s,u,f,p=t.strides[0],l=t.strides[1],c=e.length,h=t.offset;for(i=p<0?-1:1,f=0;f<c;f++)o=e[f]%p,a=(s=i*(e[f]-o))/p,u=h+s+o*l,t.data[u]=r.call(n,t.data[u],a,o,u)};var N=function(t,e,r){var n,i,a,o,s,u,f,p=t.strides[0],l=t.strides[1],c=r.strides[0],h=r.strides[1],d=e.length,v=t.offset,y=r.offset;if(r.length!==d)throw new Error("invalid input argument. Number of indices does not match the number of elements in the value matrix.");for(n=p<0?-1:1,i=c<0?-1:1,f=0;f<d;f++)s=e[f]%p,a=n*(e[f]-s),o=i*(f-(u=f%c)),t.data[v+a+s*l]=r.data[y+o+u*h]};var U=function(t,e,r,n,i){var a,o,s,u,f=t.strides[0],p=t.strides[1],l=e.length,c=r.length,h=t.offset;for(o=0;o<l;o++)for(a=h+e[o]*f,s=0;s<c;s++)u=a+r[s]*p,t.data[u]=n.call(i,t.data[u],e[o],r[s],u)};var k=function(t,e,r,n){var i,a,o,s=t.strides[0],u=t.strides[1],f=e.length,p=r.length,l=t.offset;for(a=0;a<f;a++)for(i=l+e[a]*s,o=0;o<p;o++)t.data[i+r[o]*u]=n};var B=function(t,e,r,n){var i,a,o,s,u=t.strides[0],f=t.strides[1],p=n.strides[0],l=n.strides[1],c=e.length,h=r.length,d=t.offset,v=n.offset;if(n.shape[0]!==c||n.shape[1]!==h)throw new Error("invalid input argument. The dimensions given by the row and column indices do not match the value matrix dimensions.");for(o=0;o<c;o++)for(i=d+e[o]*u,a=v+o*p,s=0;s<h;s++)t.data[i+r[s]*f]=n.data[a+s*l]};function C(t,e){var r,n;if(null===t)for(r=new Array(e),n=0;n<e;n++)r[n]=n;else{if(!m(t))throw new TypeError("invalid input argument. Row and column indices must be arrays of nonnegative integers. Value: `"+t+"`.");for(r=[],n=0;n<t.length;n++)t[n]<e&&r.push(t[n])}return r}var R=function(){var t,e,r,n,i=arguments.length;for(t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];if(i<3){if(!m(t[0]))throw new TypeError("invalid input argument. First argument must be an array of nonnegative integers. Value: `"+t[0]+"`.");M(t[1])?F(this,t[0],t[1]):O(t[1])||P(t[1])?V(this,t[0],t[1]):N(this,t[0],t[1])}else if(3===i)if(M(t[1])){if(!m(t[0]))throw new TypeError("invalid input argument. First argument must be an array of nonnegative integers. Value: `"+t[0]+"`.");F(this,t[0],t[1],t[2])}else M(t[2])?(e=C(t[0],this.shape[0]),r=C(t[1],this.shape[1]),U(this,e,r,t[2],this)):O(t[2])?(e=C(t[0],this.shape[0]),r=C(t[1],this.shape[1]),k(this,e,r,t[2])):(e=C(t[0],this.shape[0]),r=C(t[1],this.shape[1]),B(this,e,r,t[2]));else{if(!M(t[2]))throw new TypeError("invalid input argument. Callback argument must be a function. Value: `"+t[2]+"`.");e=C(t[0],this.shape[0]),r=C(t[1],this.shape[1]),U(this,e,r,t[2],t[3])}return this},D=/^(?:(?:-(?=\d+))?\d*|end(?:-\d+|\/\d+)?):(?:(?:-(?=\d+))?\d*|end(?:-\d+|\/\d+)?)(?:\:(?=-?\d*)(?:-?\d+)?)?$/,L=/^end/,$=/(-|\/)(?=\d+)(\d+)?$/;var K=function(t,e){var r,n,i,a,o;if(!_(t)||!D.test(t))throw new Error("indexspace()::invalid input argument. Invalid subsequence syntax. Please consult documentation. Value: `"+t+"`.");if(!s(e))throw new TypeError("indexspace()::invalid input argument. Reference array length must be a nonnegative integer. Value: `"+e+"`.");if(!e)return[];if(r=(t=t.split(":"))[0],n=t[1],0===(a=2===t.length?1:parseInt(t[2],10)))throw new Error("indexspace()::invalid syntax. Increment must be an integer not equal to 0. Value: `"+a+"`.");if(L.test(r))(i=r.match($))?"-"===i[1]?(r=e-1-parseInt(i[2],10))<0&&(r=0):(r=(e-1)/parseInt(i[2],10),r=Math.ceil(r)):r=e-1;else if((r=parseInt(r,10))!=r)r=a<0?e-1:0;else if(r<0)(r=e+r)<0&&(r=0);else if(e<=r)return[];if(L.test(n)?(i=n.match($))?"-"===i[1]?(n=e-1-parseInt(i[2],10))<0&&(n=0):(n=(e-1)/parseInt(i[2],10),n=Math.ceil(n)-1):n=e-1:(n=parseInt(n,10))!=n?n=a<0?0:e-1:n<0?((n=e+n)<0&&(n=0),0<a&&(n-=1)):a<0?n+=1:e<=n?n=e-1:n-=1,o=[],a<0){if(r<n)return o;for(;n<=r;)o.push(r),r+=a}else{if(n<r)return o;for(;r<=n;)o.push(r),r+=a}return o};var G=function(t,e,r){var n,i,a,o,s,u,f,p,l,c,h,d,v,y,g,m,b,w,j;if(!_(t))throw new TypeError("invalid input argument. Must provide a string primitive. Value: `"+t+"`.");if(2!==(u=t.split(",")).length)throw new Error("invalid input argument. Subsequence string must specify row and column subsequences. Value: `"+t+"`.");if(M(e)?a=e:O(e)||(f=e),o=K(u[0],this.shape[0]),s=K(u[1],this.shape[1]),n=o.length,i=s.length,!n||!i)return this;if(l=this.strides[0],c=this.strides[1],v=this.offset,a)for(p=2<arguments.length?r:this,b=0;b<n;b++)for(g=v+o[b]*l,w=0;w<i;w++)j=g+s[w]*c,this.data[j]=a.call(p,this.data[j],o[b],s[w],j);else if(f){if(n!==f.shape[0])throw new Error("invalid input arguments. Row subsequence does not match input matrix dimensions. Expected a ["+n+","+i+"] matrix and instead received a ["+f.shape.join(",")+"] matrix.");if(i!==f.shape[1])throw new Error("invalid input arguments. Column subsequence does not match input matrix dimensions. Expected a ["+n+","+i+"] matrix and instead received a ["+f.shape.join(",")+"] matrix.");for(h=f.strides[0],d=f.strides[1],y=f.offset,b=0;b<n;b++)for(g=v+o[b]*l,m=y+b*h,w=0;w<i;w++)this.data[g+s[w]*c]=f.data[m+w*d]}else for(b=0;b<n;b++)for(g=v+o[b]*l,w=0;w<i;w++)this.data[g+s[w]*c]=e;return this};var Y=function(t,e){if(!s(t)||!s(e))throw new TypeError("invalid input argument. Indices must be nonnegative integers. Values: `["+t+","+e+"]`.");return this.data[this.offset+t*this.strides[0]+e*this.strides[1]]};var J=function(t){var e,r;if(!i(t))throw new TypeError("invalid input argument. Must provide a integer. Value: `"+t+"`.");if(!(t<0&&(t+=this.length)<0))return e=t-(r=t%this.strides[0]),this.strides[0]<0&&(e=-e),this.data[this.offset+e+r*this.strides[1]]},X={int8:Int8Array,uint8:Uint8Array,uint8_clamped:Uint8ClampedArray,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array};var W=function(t,e){var r,n,i,a,o,s,u,f,p,l,c,h,d,v,y,g;if(s=this.strides[0],u=this.strides[1],l=this.offset,arguments.length<2){if(!m(t))throw new TypeError("invalid input argument. Linear indices must be specified as a nonnegative integer array. Value: `"+t+"`.");for(d=[],g=0;g<t.length;g++)t[g]<this.length&&d.push(t[g]);for(y=d.length,o=new X[this.dtype](y),i=new this.constructor(o,this.dtype,[1,y],0,[y,1]),a=s<0?-1:1,g=0;g<y;g++)v=d[g]%s,c=a*(d[g]-v),o[g]=this.data[l+c+v*u]}else{if(r=this.shape[0],null===t)for(d=new Array(r),g=0;g<r;g++)d[g]=g;else{if(!m(t))throw new TypeError("invalid input argument. Row indices must be specified as a nonnegative integer array. Value: `"+t+"`.");for(d=[],g=0;g<t.length;g++)t[g]<r&&d.push(t[g])}if(n=this.shape[1],null===e)for(v=new Array(n),g=0;g<n;g++)v[g]=g;else{if(!m(e))throw new TypeError("invalid input argument. Column indices must be specified as a nonnegative integer array. Value: `"+e+"`.");for(v=[],g=0;g<e.length;g++)e[g]<n&&v.push(e[g])}for(r=d.length,n=v.length,o=new X[this.dtype](r*n),f=(i=new this.constructor(o,this.dtype,[r,n],0,[n,1])).strides[0],p=i.strides[1],y=0;y<r;y++)for(c=l+d[y]*s,h=y*f,g=0;g<n;g++)o[h+g*p]=this.data[c+v[g]*u]}return i};var H=function(t){var e,r,n,i,a,o,s,u,f,p,l,c,h,d,v;if(!_(t))throw new TypeError("invalid input argument. Must provide a string primitive. Value: `"+t+"`.");if(2!==(a=t.split(",")).length)throw new Error("invalid input argument. Subsequence string must specify row and column subsequences. Value: `"+t+"`.");if(n=K(a[0],this.shape[0]),i=K(a[1],this.shape[1]),s=(e=n.length)*(r=i.length),l=new X[this.dtype](s),o=new this.constructor(l,this.dtype,[e,r],0,[r,1]),s)for(u=this.strides[0],f=this.strides[1],p=this.offset,d=0;d<e;d++)for(c=p+n[d]*u,h=d*r,v=0;v<r;v++)l[h+v]=this.data[c+i[v]*f];return o};var Q=function(){var t,e,r,n=this.shape[0],i=this.shape[1],a=this.strides[0],o=this.strides[1],s=n-1,u=i-1,f="";for(e=0;e<n;e++){for(t=this.offset+e*a,r=0;r<i;r++)f+=this.data[t+r*o],r<u&&(f+=",");e<s&&(f+=";")}return f},Z=Number.POSITIVE_INFINITY,tt=require("validate.io-array"),et=require("validate.io-buffer"),rt=require("type-name"),nt=require("utils-regex-from-string"),it=require("utils-copy-error"),at=require("utils-indexof"),ot=require("object-keys"),st=require("./typedarrays.js");function ut(t,e,r,n,i){var a,o,s,u,f,p,l,c,h,d;if(i-=1,"object"!==v(t)||null===t)return t;if(et(t))return new Buffer(t);if(t instanceof Error)return it(t);if("Date"===(s=rt(t)))return new Date(+t);if("RegExp"===s)return nt(t.toString());if("Set"===s)return new Set(t);if("Map"===s)return new Map(t);if("String"===s||"Boolean"===s||"Number"===s)return t.valueOf();if(f=st[s])return f(t);if("Array"!==s&&"Object"!==s)return"function"==typeof Object.freeze?function(t){var e,r,n,i,a,o,s=[],u=[];for(a=Object.create(Object.getPrototypeOf(t)),s.push(t),u.push(a),e=Object.getOwnPropertyNames(t),o=0;o<e.length;o++)r=e[o],(n=Object.getOwnPropertyDescriptor(t,r)).hasOwnProperty("value")&&(i=tt(t[r])?[]:{},n.value=ut(t[r],i,s,u,-1)),Object.defineProperty(a,r,n);return Object.isExtensible(t)||Object.preventExtensions(a),Object.isSealed(t)&&Object.seal(a),Object.isFrozen(t)&&Object.freeze(a),a}(t):{};if(o=ot(t),0<i)for(a=s,d=0;d<o.length;d++)c=t[p=o[d]],s=rt(c),"object"!==v(c)||null===c||"Array"!==s&&"Object"!==s||et(c)?"Object"===a?((u=Object.getOwnPropertyDescriptor(t,p)).hasOwnProperty("value")&&(u.value=ut(c)),Object.defineProperty(e,p,u)):e[p]=ut(c):-1===(h=at(r,c))?(l=tt(c)?[]:{},r.push(c),n.push(l),"Array"===a?e[p]=ut(c,l,r,n,i):((u=Object.getOwnPropertyDescriptor(t,p)).hasOwnProperty("value")&&(u.value=ut(c,l,r,n,i)),Object.defineProperty(e,p,u))):e[p]=n[h];else if("Array"===s)for(d=0;d<o.length;d++)e[p=o[d]]=t[p];else for(d=0;d<o.length;d++)p=o[d],u=Object.getOwnPropertyDescriptor(t,p),Object.defineProperty(e,p,u);return Object.isExtensible(t)||Object.preventExtensions(e),Object.isSealed(t)&&Object.seal(e),Object.isFrozen(t)&&Object.freeze(e),e}module.exports=ut;var ft=Object.freeze({});var pt=function(t,e){var r;if(1<arguments.length){if(!s(e))throw new TypeError("invalid input argument. Level must be a nonnegative integer. Value: `"+e+"`.");if(0===e)return t}else e=Z;return r=c(t)?[]:{},ft(t,r,[t],[r],e)};var lt=function(){var t,e;return(e={type:"Matrix"}).dtype=this.dtype,e.shape=pt(this.shape),e.offset=this.offset,e.strides=pt(this.strides),t=Object.getOwnPropertyDescriptor(this,"data"),e.raw=t.writable&&t.configurable&&t.enumerable,e.data=E(this.data,"generic"),e};function ct(t,e,r,n,i){return this instanceof ct?(Object.defineProperty(this,"dtype",{value:e,configurable:!1,enumerable:!0,writable:!1}),Object.defineProperty(this,"shape",{value:r,configurable:!1,enumerable:!0,writable:!1}),Object.defineProperty(this,"strides",{value:i,configurable:!1,enumerable:!0,writable:!1}),Object.defineProperty(this,"offset",{value:n,configurable:!1,enumerable:!0,writable:!0}),Object.defineProperty(this,"ndims",{value:r.length,configurable:!1,enumerable:!0,writable:!1}),Object.defineProperty(this,"length",{value:t.length,configurable:!1,enumerable:!0,writable:!1}),Object.defineProperty(this,"nbytes",{value:t.byteLength,configurable:!1,enumerable:!0,writable:!1}),Object.defineProperty(this,"data",{value:t,configurable:!1,enumerable:!0,writable:!1}),this):new ct(t,e,r,n,i)}ct.prototype.set=I,ct.prototype.iset=z,ct.prototype.mset=R,ct.prototype.sset=G,ct.prototype.get=Y,ct.prototype.iget=J,ct.prototype.mget=W,ct.prototype.sget=H,ct.prototype.toString=Q,ct.prototype.toJSON=lt;var ht=ct,dt=["int8","uint8","uint8_clamped","int16","uint16","int32","uint32","float32","float64"];var vt=function(){var t,e,r,n,i,a,o,s;if(1===arguments.length?(r=arguments[0],i=2):2===arguments.length?_(arguments[1])?(r=arguments[0],t=arguments[1],i=23):(n=arguments[0],r=arguments[1],i=12):(n=arguments[0],r=arguments[1],t=arguments[2],i=123),!m(r))throw new TypeError("invalid input argument. A matrix shape must be an array of nonnegative integers. Value: `"+r+"`.");if(2!==(e=r.length))throw new Error("invalid input argument. Shape must be a 2-element array. Value: `"+r+"`.");if(123===i||23===i){if(!d(dt,t))throw new TypeError("invalid input argument. Unrecognized/unsupported data type. Value: `"+t+"`.")}else t="float64";for(a=1,s=0;s<e;s++)a*=r[s];if(123===i||12===i){if(o=q(n),!d(dt,o)&&!c(n))throw new TypeError("invalid input argument. Input data must be a valid type. Consult the documentation for a list of valid data types. Value: `"+n+"`.");if(a!==n.length)throw new Error("invalid input argument. Matrix shape does not match the input data length.");123===i&&o!==t||"generic"===o?n=E(n,t):t=o}else n=new X[t](a);return new ht(n,t,r,0,[r[1],1])};var yt=function(t,e){var r,n;return t<0&&(t+=this.length)<0||(r=t-(n=t%this.strides[0]),this.strides[0]<0&&(r=-r),this.data[this.offset+r+n*this.strides[1]]=e),this};function gt(t,e){var r,n;if(null===t)for(r=new Array(e),n=0;n<e;n++)r[n]=n;else r=t;return r}var mt=function(){var t,e,r,n,i=arguments.length;for(t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];return i<3?"function"==typeof t[1]?F(this,t[0],t[1]):"number"==typeof t[1]?V(this,t[0],t[1]):N(this,t[0],t[1]):3===i?"function"==typeof t[1]?F(this,t[0],t[1],t[2]):"function"==typeof t[2]?(e=gt(t[0],this.shape[0]),r=gt(t[1],this.shape[1]),U(this,e,r,t[2],this)):"number"==typeof t[2]?(e=gt(t[0],this.shape[0]),r=gt(t[1],this.shape[1]),k(this,e,r,t[2])):(e=gt(t[0],this.shape[0]),r=gt(t[1],this.shape[1]),B(this,e,r,t[2])):(e=gt(t[0],this.shape[0]),r=gt(t[1],this.shape[1]),U(this,e,r,t[2],t[3])),this};var bt=function(t,e,r){var n,i,a,o,s,u,f,p,l,c,h,d,v,y,g,m,b,w,j;if(u=t.split(","),"function"==typeof e?a=e:"number"!=typeof e&&(f=e),o=K(u[0],this.shape[0]),s=K(u[1],this.shape[1]),n=o.length,i=s.length,!n||!i)return this;if(l=this.strides[0],c=this.strides[1],v=this.offset,a)for(p=2<arguments.length?r:this,b=0;b<n;b++)for(g=v+o[b]*l,w=0;w<i;w++)j=g+s[w]*c,this.data[j]=a.call(p,this.data[j],o[b],s[w],j);else if(f){if(n!==f.shape[0])throw new Error("invalid input arguments. Row subsequence does not match input matrix dimensions. Expected a ["+n+","+i+"] matrix and instead received a ["+f.shape.join(",")+"] matrix.");if(i!==f.shape[1])throw new Error("invalid input arguments. Column subsequence does not match input matrix dimensions. Expected a ["+n+","+i+"] matrix and instead received a ["+f.shape.join(",")+"] matrix.");for(h=f.strides[0],d=f.strides[1],y=f.offset,b=0;b<n;b++)for(g=v+o[b]*l,m=y+b*h,w=0;w<i;w++)this.data[g+s[w]*c]=f.data[m+w*d]}else for(b=0;b<n;b++)for(g=v+o[b]*l,w=0;w<i;w++)this.data[g+s[w]*c]=e;return this};var wt=function(t,e){return this.data[this.offset+t*this.strides[0]+e*this.strides[1]]};var jt=function(t){var e,r;if(!(t<0&&(t+=this.length)<0))return e=t-(r=t%this.strides[0]),this.strides[0]<0&&(e=-e),this.data[this.offset+e+r*this.strides[1]]};var Ot=function(t,e){var r,n,i,a,o,s,u,f,p,l,c,h,d,v,y,g;if(s=this.strides[0],u=this.strides[1],l=this.offset,arguments.length<2)for(y=(d=t).length,o=new X[this.dtype](y),i=new this.constructor(o,this.dtype,[1,y],0,[y,1]),a=s<0?-1:1,g=0;g<y;g++)v=d[g]%s,c=a*(d[g]-v),o[g]=this.data[l+c+v*u];else{if(null===t)for(r=this.shape[0],d=new Array(r),g=0;g<r;g++)d[g]=g;else r=t.length,d=t;if(null===e)for(n=this.shape[1],v=new Array(n),g=0;g<n;g++)v[g]=g;else n=e.length,v=e;for(o=new X[this.dtype](r*n),f=(i=new this.constructor(o,this.dtype,[r,n],0,[n,1])).strides[0],p=i.strides[1],y=0;y<r;y++)for(c=l+d[y]*s,h=y*f,g=0;g<n;g++)o[h+g*p]=this.data[c+v[g]*u]}return i};var _t=function(t){var e,r,n,i,a,o,s,u,f,p,l,c,h,d,v;if(a=t.split(","),n=K(a[0],this.shape[0]),i=K(a[1],this.shape[1]),s=(e=n.length)*(r=i.length),l=new X[this.dtype](s),o=new this.constructor(l,this.dtype,[e,r],0,[r,1]),s)for(u=this.strides[0],f=this.strides[1],p=this.offset,d=0;d<e;d++)for(c=p+n[d]*u,h=d*r,v=0;v<r;v++)l[h+v]=this.data[c+i[v]*f];return o};function xt(t,e,r,n,i){return this instanceof xt?(this.dtype=e,this.shape=r,this.strides=i,this.offset=n,this.ndims=r.length,this.length=t.length,this.nbytes=t.byteLength,this.data=t,this):new xt(t,e,r,n,i)}xt.prototype.set=function(t,e,r){return 0<=(t=this.offset+t*this.strides[0]+e*this.strides[1])&&(this.data[t]=r),this},xt.prototype.iset=yt,xt.prototype.mset=mt,xt.prototype.sset=bt,xt.prototype.get=wt,xt.prototype.iget=jt,xt.prototype.mget=Ot,xt.prototype.sget=_t,xt.prototype.toString=Q,xt.prototype.toJSON=lt;var At=xt;var Et=vt,Tt=function(){var t,e,r,n,i,a;if(1===arguments.length?r=arguments[0]:2===arguments.length?_(arguments[1])?(r=arguments[0],t=arguments[1]):(n=arguments[0],r=arguments[1]):(n=arguments[0],r=arguments[1],t=arguments[2]),2!==(e=r.length))throw new Error("invalid input argument. Shape must be a 2-element array. Value: `"+r+"`.");for(i=1,a=0;a<e;a++)i*=r[a];if(n){if(!t&&(t=q(n),!d(dt,t)))throw new TypeError("invalid input argument. Input data must be a valid type. Consult the documentation for a list of valid data types. Value: `"+n+"`.");if(i!==n.length)throw new Error("invalid input argument. Matrix shape does not match the input data length.")}else t||(t="float64"),n=new X[t](i);return new At(n,t,r,0,[r[1],1])};Et.raw=Tt;var St=require("validate.io-array");module.exports=function(t){return"object"===v(t)&&null!==t&&!St(t)};var qt=Object.freeze({});var Pt=function(t){return a(t)&&0<=t};var It=function(t){return!0===t||!1===t};var zt=function(t,e){return qt(e)?e.hasOwnProperty("mu")&&(t.mu=e.mu,!O(t.mu))?new TypeError("pdf()::invalid option. `mu` parameter must be a number primitive. Option: `"+t.mu+"`."):e.hasOwnProperty("sigma")&&(t.sigma=e.sigma,!Pt(t.sigma))?new TypeError("pdf()::invalid option. `sigma` parameter must be a non-negative number. Option: `"+t.sigma+"`."):e.hasOwnProperty("copy")&&(t.copy=e.copy,!It(t.copy))?new TypeError("pdf()::invalid option. Copy option must be a boolean primitive. Option: `"+t.copy+"`."):e.hasOwnProperty("accessor")&&(t.accessor=e.accessor,!M(t.accessor))?new TypeError("pdf()::invalid option. Accessor must be a function. Option: `"+t.accessor+"`."):e.hasOwnProperty("path")&&(t.path=e.path,!_(t.path))?new TypeError("pdf()::invalid option. Key path option must be a string primitive. Option: `"+t.path+"`."):e.hasOwnProperty("sep")&&(t.sep=e.sep,!_(t.sep))?new TypeError("pdf()::invalid option. Separator option must be a string primitive. Option: `"+t.sep+"`."):e.hasOwnProperty("dtype")&&(t.dtype=e.dtype,!_(t.dtype))?new TypeError("pdf()::invalid option. Data type option must be a string primitive. Option: `"+t.dtype+"`."):null:new TypeError("pdf()::invalid input argument. Options argument must be an object. Value: `"+e+"`.")},Mt=Math.exp,Vt=Math.pow,Ft=Math.sqrt,Nt=Math.PI;var Ut=function(t,e,r){if(0===r)return t===e?Number.POSITIVE_INFINITY:0;var n=Vt(r,2);return 1/Ft(2*n*Nt)*Mt(-1/(2*n)*Vt(t-e,2))},kt=Math.exp,Bt=Math.pow,Ct=Math.sqrt,Rt=Math.PI;var Dt=function(e,t){var r=Bt(t,2),n=1/Ct(2*r*Rt),i=-1/(2*r);return 0===t?function(t){return t===e?Number.POSITIVE_INFINITY:0}:function(t){return n*kt(i*Bt(t-e,2))}};var Lt=function(t,e,r,n){var i,a,o=e.length;for(i=Dt(r,n),a=0;a<o;a++)"number"==typeof e[a]?t[a]=i(e[a]):t[a]=NaN;return t};var $t=function(t,e,r,n,i){var a,o,s,u=e.length;for(a=Dt(r,n),s=0;s<u;s++)o=i(e[s],s),t[s]="number"==typeof o?a(o):NaN;return t},Kt=require("validate.io-string-primitive"),Gt=require("validate.io-array"),Yt=require("./validate.js"),Jt=require("./defaults.js"),Xt=require("./deepset.js");module.exports=function(t,e,r,n){var i,a,o,s=Kt(e);if("object"!==v(t)||null===t)return!1;if(!s&&!Gt(e))throw new TypeError("deepSet()::invalid input argument. Key path must be a string primitive or a key array. Value: `"+e+"`.");if(a=Jt(),3<arguments.length&&(o=Yt(a,n)))throw o;return i=s?e.split(a.sep):e,Xt(t,i,a.create,r)},module.exports.factory=require("./factory.js");var Wt=Object.freeze({}),Ht=require("validate.io-string-primitive"),Qt=require("validate.io-array"),Zt=require("./validate.js"),te=require("./defaults.js"),ee=require("./deepget.js");module.exports=function(t,e,r){var n,i,a,o=Ht(e);if("object"===v(t)&&null!==t){if(!o&&!Qt(e))throw new TypeError("deepGet()::invalid input argument. Key path must be a string primitive or a key array. Value: `"+e+"`.");if(i=te(),2<arguments.length&&(a=Zt(i,r)))throw a;return n=o?e.split(i.sep):e,ee(t,n)}},module.exports.factory=require("./factory.js");var re=Object.freeze({}),ne=Wt.factory,ie=re.factory;var ae=function(t,e,r,n,i){var a,o,s,u,f,p=t.length,l={};if(4<arguments.length&&(l.sep=i),p)for(a=ie(n,l),o=ne(n,l),s=Dt(e,r),f=0;f<p;f++)u=a(t[f]),o(t[f],"number"==typeof u?s(u):NaN);return t};var oe=function(t,e,r,n){var i,a,o=e.length;if(t.length!==o)throw new Error("pdf()::invalid input arguments. Input and output matrices must be the same length.");for(i=Dt(r,n),a=0;a<o;a++)t.data[a]=i(e.data[a]);return t};var se=function(t,e,r,n){var i,a,o=e.length;for(i=Dt(r,n),a=0;a<o;a++)t[a]=i(e[a]);return t};var ue=function(t,e){var r,n,i,a,o,s={};if(1<arguments.length&&(n=zt(s,e)))throw n;if(s.mu=void 0!==s.mu?s.mu:0,s.sigma=void 0!==s.sigma?s.sigma:1,O(t))return Ut(t,s.mu,s.sigma);if(p(t)){if(!1!==s.copy){if(a=s.dtype||"float64",null===(r=l(a)))throw new Error("pdf()::invalid option. Data type option does not have a corresponding array constructor. Option: `"+a+"`.");o=new r(t.length),i=Et(o,t.shape,a)}else i=t;return oe(i,t,s.mu,s.sigma)}if(f(t)){if(!1===s.copy)i=t;else{if(a=s.dtype||"float64",null===(r=l(a)))throw new Error("pdf()::invalid option. Data type option does not have a corresponding array constructor. Option: `"+a+"`.");i=new r(t.length)}return se(i,t,s.mu,s.sigma)}if(u(t)){if(s.path)return s.sep=s.sep||".",ae(t,s.mu,s.sigma,s.path,s.sep);if(!1===s.copy)i=t;else if(s.dtype){if(null===(r=l(s.dtype)))throw new TypeError("pdf()::invalid option. Data type option does not have a corresponding array constructor. Option: `"+s.dtype+"`.");i=new r(t.length)}else i=new Array(t.length);return s.accessor?$t(i,t,s.mu,s.sigma,s.accessor):Lt(i,t,s.mu,s.sigma)}return NaN},fe=t(function(t){t.exports=function(t){if(!Array.isArray(t))throw new TypeError("stdev()::invalid input argument. Must provide an array.");var e=t.length,r=0,n=0,i=0,a=0;if(e<2)return 0;for(var o=0;o<e;o++)r+=1,n+=(a=t[o]-n)/r,i+=a*(t[o]-n);return Math.sqrt(i/(r-1))}}),pe=t(function(t,e){var r={};function s(t,e,r,n){return t((n-r)/e)}function f(t,e,r,n){return t(function(t,e){var r,n=0;for(r=0;r<t.length;r++)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)}(n,r)/e)}function p(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e}function u(e){return function(t){return!1===c(t)?e(t):t.map(function(t){return e(t)})}}r.fun={gaussian:function(t){return ue(t)},boxcar:function(t){return Math.abs(t)<=1?.5:0},epanechnikov:function(t){return Math.abs(t)<=1?.75*(1-t*t):0},tricube:function(t){return Math.abs(t)<=1?70/81*(e=t,r=1-Math.pow(Math.abs(e),3),Math.pow(r,3)):0;var e,r}},r.silverman=function(t){var e=4*Math.pow(fe(t),5)/(3*t.length);return Math.pow(e,.2)},r.density=function(t,e,r){if(r<=0)throw new RangeError("Bandwidth has to be a positive number.");if(!1===M(e))throw new TypeError("Kernel function has to be supplied.");r=r||.5;var n=t,i=t.length,a=s.bind(null,e,r);return u(function(e){return p(n.map(function(t){return a(e,t)}))/(i*r)})},r.regression=function(t,e,r,n){if((n=n||.5)<0)throw new RangeError("Bandwidth has to be a positive number.");if(!e)throw new TypeError("Numeric y must be supplied. For density estimationuse .density() function");if(!1===M(r))throw new TypeError("Kernel function has to be supplied.");var i=t,a=e,o=s.bind(null,r,n);return u(function(e){var t=i.map(function(t){return o(e,t)});return p(t.map(function(t,e){return t*a[e]}))/p(t)})},r.multipleRegression=function(t,e,r,n){if(n<=0)throw new RangeError("Bandwidth has to be a positive number.");if(!e)throw new TypeError("Numeric y must be supplied. For density estimationuse .density() function");if(!1===M(r))throw new TypeError("Kernel function has to be supplied.");if(!1===c(t)||!1===c(t[0]))throw new TypeError("Xs has to be a two-dimensional array");n=n||.5;var i,a=t,o=e,s=t[0].length,u=f.bind(null,r,n);return i=function(e){if(!1===c(e)||e.length!==s)throw new TypeError("Argument has to be array of length "+s);var t=a.map(function(t){return u(e,t)});return p(t.map(function(t,e){return t*o[e]}))/p(t)},function(t){if(!0===c(t))return!1===c(t[0])?i(t):t.map(function(t){return i(t)});throw new TypeError("Parameter expects array")}},t.exports=r});var le=function(){this.__data__=[],this.size=0};var ce=function(t,e){return t===e||t!=t&&e!=e};var he=function(t,e){for(var r=t.length;r--;)if(ce(t[r][0],e))return r;return-1},de=Array.prototype.splice;var ve=function(t){var e=this.__data__,r=he(e,t);return!(r<0||(r==e.length-1?e.pop():de.call(e,r,1),--this.size,0))};var ye=function(t){var e=this.__data__,r=he(e,t);return r<0?void 0:e[r][1]};var ge=function(t){return-1<he(this.__data__,t)};var me=function(t,e){var r=this.__data__,n=he(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function be(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}be.prototype.clear=le,be.prototype.delete=ve,be.prototype.get=ye,be.prototype.has=ge,be.prototype.set=me;var we=be;var je=function(){this.__data__=new we,this.size=0};var Oe=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var _e=function(t){return this.__data__.get(t)};var xe=function(t){return this.__data__.has(t)},Ae=require("./_freeGlobal"),Ee="object"==("undefined"==typeof self?"undefined":v(self))&&self&&self.Object===Object&&self,Te=Ae||Ee||Function("return this")();module.exports=Te;var Se=Object.freeze({}),qe=Se.Symbol,Pe=Object.prototype,Ie=Pe.hasOwnProperty,ze=Pe.toString,Me=qe?qe.toStringTag:void 0;var Ve=function(t){var e=Ie.call(t,Me),r=t[Me];try{t[Me]=void 0}catch(t){}var n=ze.call(t);return e?t[Me]=r:delete t[Me],n},Fe=Object.prototype.toString;var Ne=function(t){return Fe.call(t)},Ue=qe?qe.toStringTag:void 0;var ke=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ue&&Ue in Object(t)?Ve(t):Ne(t)};module.exports=function(t){var e=v(t);return null!=t&&("object"==e||"function"==e)};var Be=Object.freeze({});var Ce,Re=function(t){if(!Be(t))return!1;var e=ke(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},De=Se["__core-js_shared__"],Le=(Ce=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+Ce:"";var $e=function(t){return!!Le&&Le in t},Ke=Function.prototype.toString;var Ge=function(t){if(null!=t){try{return Ke.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Ye=/^\[object .+?Constructor\]$/,Je=Function.prototype,Xe=Object.prototype,We=Je.toString,He=Xe.hasOwnProperty,Qe=RegExp("^"+We.call(He).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ze=function(t){return!(!Be(t)||$e(t))&&(Re(t)?Qe:Ye).test(Ge(t))};var tr=function(t,e){return null==t?void 0:t[e]};var er=function(t,e){var r=tr(t,e);return Ze(r)?r:void 0},rr=er(Se,"Map"),nr=er(Object,"create");var ir=function(){this.__data__=nr?nr(null):{},this.size=0};var ar=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},or=Object.prototype.hasOwnProperty;var sr=function(t){var e=this.__data__;if(nr){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return or.call(e,t)?e[t]:void 0},ur=Object.prototype.hasOwnProperty;var fr=function(t){var e=this.__data__;return nr?void 0!==e[t]:ur.call(e,t)};var pr=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nr&&void 0===e?"__lodash_hash_undefined__":e,this};function lr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}lr.prototype.clear=ir,lr.prototype.delete=ar,lr.prototype.get=sr,lr.prototype.has=fr,lr.prototype.set=pr;var cr=lr;var hr=function(){this.size=0,this.__data__={hash:new cr,map:new(rr||we),string:new cr}};module.exports=function(t){var e=v(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var dr=Object.freeze({});var vr=function(t,e){var r=t.__data__;return dr(e)?r["string"==typeof e?"string":"hash"]:r.map};var yr=function(t){var e=vr(this,t).delete(t);return this.size-=e?1:0,e};var gr=function(t){return vr(this,t).get(t)};var mr=function(t){return vr(this,t).has(t)};var br=function(t,e){var r=vr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wr.prototype.clear=hr,wr.prototype.delete=yr,wr.prototype.get=gr,wr.prototype.has=mr,wr.prototype.set=br;var jr=wr;var Or=function(t,e){var r=this.__data__;if(r instanceof we){var n=r.__data__;if(!rr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new jr(n)}return r.set(t,e),this.size=r.size,this};function _r(t){var e=this.__data__=new we(t);this.size=e.size}_r.prototype.clear=je,_r.prototype.delete=Oe,_r.prototype.get=_e,_r.prototype.has=xe,_r.prototype.set=Or;var xr=_r,Ar=function(){try{var t=er(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Er=function(t,e,r){"__proto__"==e&&Ar?Ar(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var Tr=function(t,e,r){(void 0===r||ce(t[e],r))&&(void 0!==r||e in t)||Er(t,e,r)};var Sr=function(u){return function(t,e,r){for(var n=-1,i=Object(t),a=r(t),o=a.length;o--;){var s=a[u?o:++n];if(!1===e(i[s],s,i))break}return t}}(),qr=require("./_root"),Pr="object"==("undefined"==typeof exports?"undefined":v(exports))&&exports&&!exports.nodeType&&exports,Ir=Pr&&"object"==("undefined"==typeof module?"undefined":v(module))&&module&&!module.nodeType&&module,zr=Ir&&Ir.exports===Pr?qr.Buffer:void 0,Mr=zr?zr.allocUnsafe:void 0;module.exports=function(t,e){if(e)return t.slice();var r=t.length,n=Mr?Mr(r):new t.constructor(r);return t.copy(n),n};var Vr=Object.freeze({}),Fr=Se.Uint8Array;var Nr=function(t){var e=new t.constructor(t.byteLength);return new Fr(e).set(new Fr(t)),e};var Ur=function(t,e){var r=e?Nr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var kr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},Br=Object.create,Cr=function(){function r(){}return function(t){if(!Be(t))return{};if(Br)return Br(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();var Rr=function(e,r){return function(t){return e(r(t))}}(Object.getPrototypeOf,Object),Dr=Object.prototype;var Lr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Dr)};var $r=function(t){return"function"!=typeof t.constructor||Lr(t)?{}:Cr(Rr(t))};module.exports=function(t){return null!=t&&"object"==v(t)};var Kr=Object.freeze({});var Gr=function(t){return Kr(t)&&"[object Arguments]"==ke(t)},Yr=Object.prototype,Jr=Yr.hasOwnProperty,Xr=Yr.propertyIsEnumerable,Wr=Gr(function(){return arguments}())?Gr:function(t){return Kr(t)&&Jr.call(t,"callee")&&!Xr.call(t,"callee")},Hr=Array.isArray;var Qr=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991};var Zr=function(t){return null!=t&&Qr(t.length)&&!Re(t)};var tn=function(t){return Kr(t)&&Zr(t)},en=require("./_root"),rn=require("./stubFalse"),nn="object"==("undefined"==typeof exports?"undefined":v(exports))&&exports&&!exports.nodeType&&exports,an=nn&&"object"==("undefined"==typeof module?"undefined":v(module))&&module&&!module.nodeType&&module,on=an&&an.exports===nn?en.Buffer:void 0,sn=(on?on.isBuffer:void 0)||rn;module.exports=sn;var un=Object.freeze({}),fn=Function.prototype,pn=Object.prototype,ln=fn.toString,cn=pn.hasOwnProperty,hn=ln.call(Object);var dn=function(t){if(!Kr(t)||"[object Object]"!=ke(t))return!1;var e=Rr(t);if(null===e)return!0;var r=cn.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ln.call(r)==hn},vn={};vn["[object Float32Array]"]=vn["[object Float64Array]"]=vn["[object Int8Array]"]=vn["[object Int16Array]"]=vn["[object Int32Array]"]=vn["[object Uint8Array]"]=vn["[object Uint8ClampedArray]"]=vn["[object Uint16Array]"]=vn["[object Uint32Array]"]=!0,vn["[object Arguments]"]=vn["[object Array]"]=vn["[object ArrayBuffer]"]=vn["[object Boolean]"]=vn["[object DataView]"]=vn["[object Date]"]=vn["[object Error]"]=vn["[object Function]"]=vn["[object Map]"]=vn["[object Number]"]=vn["[object Object]"]=vn["[object RegExp]"]=vn["[object Set]"]=vn["[object String]"]=vn["[object WeakMap]"]=!1;var yn=function(t){return Kr(t)&&Qr(t.length)&&!!vn[ke(t)]};var gn=function(e){return function(t){return e(t)}},mn=require("./_freeGlobal"),bn="object"==("undefined"==typeof exports?"undefined":v(exports))&&exports&&!exports.nodeType&&exports,wn=bn&&"object"==("undefined"==typeof module?"undefined":v(module))&&module&&!module.nodeType&&module,jn=wn&&wn.exports===bn&&mn.process,On=function(){try{var t=wn&&wn.require&&wn.require("util").types;return t||jn&&jn.binding&&jn.binding("util")}catch(t){}}();module.exports=On;var _n=Object.freeze({}),xn=_n&&_n.isTypedArray,An=xn?gn(xn):yn;var En=function(t,e){return"__proto__"==e?void 0:t[e]},Tn=Object.prototype.hasOwnProperty;var Sn=function(t,e,r){var n=t[e];Tn.call(t,e)&&ce(n,r)&&(void 0!==r||e in t)||Er(t,e,r)};var qn=function(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=n?n(r[s],t[s],s,r,t):void 0;void 0===u&&(u=t[s]),i?Er(r,s,u):Sn(r,s,u)}return r};var Pn=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},In=/^(?:0|[1-9]\d*)$/;module.exports=function(t,e){var r=v(t);return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&In.test(t))&&-1<t&&t%1==0&&t<e};var zn=Object.freeze({}),Mn=Object.prototype.hasOwnProperty;var Vn=function(t,e){var r=Hr(t),n=!r&&Wr(t),i=!r&&!n&&un(t),a=!r&&!n&&!i&&An(t),o=r||n||i||a,s=o?Pn(t.length,String):[],u=s.length;for(var f in t)!e&&!Mn.call(t,f)||o&&("length"==f||i&&("offset"==f||"parent"==f)||a&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||zn(f,u))||s.push(f);return s};var Fn=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Nn=Object.prototype.hasOwnProperty;var Un=function(t){if(!Be(t))return Fn(t);var e=Lr(t),r=[];for(var n in t)("constructor"!=n||!e&&Nn.call(t,n))&&r.push(n);return r};var kn=function(t){return Zr(t)?Vn(t,!0):Un(t)};var Bn=function(t){return qn(t,kn(t))};var Cn=function(t,e,r,n,i,a,o){var s=En(t,r),u=En(e,r),f=o.get(u);if(f)Tr(t,r,f);else{var p=a?a(s,u,r+"",t,e,o):void 0,l=void 0===p;if(l){var c=Hr(u),h=!c&&un(u),d=!c&&!h&&An(u);p=u,c||h||d?p=Hr(s)?s:tn(s)?kr(s):h?Vr(u,!(l=!1)):d?Ur(u,!(l=!1)):[]:dn(u)||Wr(u)?Wr(p=s)?p=Bn(s):(!Be(s)||n&&Re(s))&&(p=$r(u)):l=!1}l&&(o.set(u,p),i(p,u,n,a,o),o.delete(u)),Tr(t,r,p)}};var Rn=function n(i,a,o,s,u){i!==a&&Sr(a,function(t,e){if(Be(t))u||(u=new xr),Cn(i,a,e,o,n,s,u);else{var r=s?s(En(i,e),t,e+"",i,a,u):void 0;void 0===r&&(r=t),Tr(i,e,r)}},kn)};var Dn=function(t){return t};var Ln=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},$n=Math.max;var Kn=function(a,o,s){return o=$n(void 0===o?a.length-1:o,0),function(){for(var t=arguments,e=-1,r=$n(t.length-o,0),n=Array(r);++e<r;)n[e]=t[o+e];e=-1;for(var i=Array(o+1);++e<o;)i[e]=t[e];return i[o]=s(n),Ln(a,this,i)}};var Gn=function(t){return function(){return t}},Yn=Ar?function(t,e){return Ar(t,"toString",{configurable:!0,enumerable:!1,value:Gn(e),writable:!0})}:Dn,Jn=Date.now;var Xn=function(r){var n=0,i=0;return function(){var t=Jn(),e=16-(t-i);if(i=t,0<e){if(800<=++n)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}(Yn);var Wn=function(t,e){return Xn(Kn(t,e,Dn),t+"")},Hn=require("./eq"),Qn=require("./isArrayLike"),Zn=require("./_isIndex"),ti=require("./isObject");module.exports=function(t,e,r){if(!ti(r))return!1;var n=v(e);return!!("number"==n?Qn(r)&&Zn(e,r.length):"string"==n&&e in r)&&Hn(r[e],t)};var ei=Object.freeze({});var ri=function(s){return Wn(function(t,e){var r=-1,n=e.length,i=1<n?e[n-1]:void 0,a=2<n?e[2]:void 0;for(i=3<s.length&&"function"==typeof i?(n--,i):void 0,a&&ei(e[0],e[1],a)&&(i=n<3?void 0:i,n=1),t=Object(t);++r<n;){var o=e[r];o&&s(t,o,r,i)}return t})}(function(t,e,r){Rn(t,e,r)}),ni=[76067,74444,73702,72935,71977,71755,70954,68485,66149,63783,63217,62848,62520,62518,61017,60741,59196,59143,59114,58387,56104,54895,54727,54610,54570,54384,53571,53270,53094,52078,51340,51037,50826,50803,50674,50433,49593,49174,48900,48380,48256,48038,46898,46574,45674,45652,44811,44758,42644,42336,40528];return function(){return{render:function(){var O={densityFill:"#ddd",pointFill:"#333",height:60,margin:{top:15,right:10,bottom:0,left:10},axisLabels:{min:"Least",max:"Most"},title:"Density",kernel:{func:pe.fun.epanechnikov,bandwidth:.05}},_=45e3;function e(t){t.each(function(t,e,r){var n=r[e],i=n.getBoundingClientRect().width,a=O,o=a.margin,s=a.height,u=x.extent(t),f=u[0],p=u[1],l=function(t){return(t-f)/(p-f)},c=t.map(function(t){return l(t)}),h=l(_),d=x.scaleLinear().domain([0,1]).range([0,i-o.right-o.left]),v=pe.density(c,O.kernel.func,O.kernel.bandwidth),y=d.ticks(100).map(function(t){return[t,v(t)]});y.unshift([0,0]),y.push([1,0]);var g=[[h-.01,0],[h-.01,v(h-.01)],[h+.01,v(h+.01)],[h+.01,0]],m=x.scaleLinear().domain([0,x.max(y,function(t){return t[1]})]).range([s-o.bottom-o.top,0]);x.select(n).appendSelect("h5").style("text-align","center").text(O.title),x.select(n).appendSelect("svg");var b=x.select(n).appendSelect("div","legend");b.appendSelect("span","min").style("float","left").text(O.axisLabels.min),b.appendSelect("span","max").style("float","right").text(O.axisLabels.max);var w=x.select(n).appendSelect("svg").attr("width",i).attr("height",s).appendSelect("g").attr("transform","translate(".concat(o.left,", ").concat(o.top,")"));w.appendSelect("path","density").datum(y).attr("fill",O.densityFill).attr("d",x.line().curve(x.curveBasis).x(function(t){return d(t[0])}).y(function(t){return m(t[1])})),w.appendSelect("path","highlight").datum(g).attr("fill",O.pointFill).attr("d",x.line().curve(x.curveMonotoneX).x(function(t){return d(t[0])}).y(function(t){return m(t[1])}));var j=x.symbol().type(x.symbolTriangle).size(m(.01));w.appendSelect("path","pointer").attr("fill",O.pointFill).attr("d",j).attr("transform","\n            rotate(180 ".concat(d(h)," ").concat(m(v(h)),")\n            translate(").concat(d(h),", ").concat(m(v(h))+10,")\n            "))})}return e.props=function(t){return t?(O=ri(O,t),e):O},e.point=function(t){return void 0===t?_:(_=t,e)},e},draw:function(){var t=this.render().point(this._point).props(this._props);x.select(this._selection).datum(this._data).call(t)},create:function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};this._selection=t,this._point=e||0,this._data=r||ni,this._props=n,this.draw()},update:function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this._point=t,this._data=e||this._data,this._props=r,this.draw()},resize:function(){this.draw()}}}}(d3);
